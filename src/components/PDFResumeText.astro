---
// Simple print resume component
---

<div class="pdf-resume-container my-8">
  <div class="flex items-start justify-start">
    <button
      id="print-resume-btn"
      class="heading2 flex cursor-pointer items-center gap-2 rounded-lg border border-black px-4 py-2 font-medium text-black transition-all hover:bg-black hover:text-white focus:ring-2 focus:ring-black focus:outline-none"
    >
      <span>Print Resume</span>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="1em"
        height="1em"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-download"
        style="min-width: 1em; min-height: 1em;"
      >
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
        <polyline points="7 10 12 15 17 10"></polyline>
        <line x1="12" y1="15" x2="12" y2="3"></line>
      </svg>
    </button>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const printResumeBtn = document.getElementById("print-resume-btn");

    printResumeBtn.addEventListener("click", () => {
      // Create an iframe to load the printable version
      const printFrame = document.createElement("iframe");
      printFrame.style.position = "absolute";
      printFrame.style.top = "-9999px";
      printFrame.style.left = "-9999px";
      printFrame.style.width = "0";
      printFrame.style.height = "0";
      printFrame.src = "/resume?view=true";
      document.body.appendChild(printFrame);

      // Once iframe is loaded, trigger print
      printFrame.onload = function () {
        setTimeout(() => {
          printFrame.contentWindow.print();
          // Remove iframe after printing (or after a timeout)
          setTimeout(() => {
            document.body.removeChild(printFrame);
          }, 1000);
        }, 500);
      };
    });
  });
</script>
